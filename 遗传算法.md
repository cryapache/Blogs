## 操作过程
遗传算法由自然界的遗传机制得来，操作流程一般为： 初始化 -> 选择 -> 交叉 -> 变异 -> 迭代
下面以旅行商问题为示例：
### 初始化（编码 + 定义适应度函数）
- 编码：
将问题解用基因编码并随机生成一组候选解。
在旅行商问题中，可以将路线转化为整数编码，随机生成n条路线作为一个种群
``eg：[0,1,2,3,4,5,6,7,8,9], [9,8,7,6,5,4,3,2,1,0], .....``
- 定义适应度函数
定义适应度函数用来判断每个候选解的优劣，以便后续进行筛选。
旅行商问题中需要得到总距离最短的路线，所以可以使用距离的倒数作为适应度函数
 $$
	f = \frac{1}{D}
  $$
此处可以定义城市之间的距离矩阵进行预处理，以便后续计算

### 选择
按照适应度高低选择优秀个体进入下一代，常用途径有轮盘赌、锦标赛选择等。

### 交叉
下面举双点交叉和顺序交叉两个例子
- 双点交叉
随机选取两个断点`i < j`，交换`i`到`j`中间的部分
 ```
 取i = 3, j = 7
 操作过程：  
 P1: [123 | 4567 | 890] -> [123 6543 890] -> [1236543890]
 P2: [987 | 6543 | 210] -> [987 4567 210] -> [9874567210]
 ```
显然双点交叉会使不应该重复的元素重复出现，不适用旅行商问题，所以采用顺序交叉

- 顺序交叉
随机选取两个断点`i < j`，截取`P1`中`i`到`j`中间的部分，将`P2`从`j + 1`位置开始循环扫描，将未出现的城市依次填充到`P1`的空位
 ```
 取i = 3, j = 7
 P1 = [1 2 3 4 5 6 7 8 9 0] -> [_ _ 3 4 5 6 _ _ _ _] -> [2 1 3 4 5 6 0 9 8 7]
 P2 = [9 8 7 6 5 4 3 2 1 0] -> [3 2 1 0 9 8 7 6 5 4] -> [2 1 0 9 8 7]
 得到新序列P1，对P2同理可得
 ```
 最后，将新生成的编码加入种群中。
 此外，还可以使用部分匹配交叉、循环交叉等方法进行交叉。

### 变异
变异操作中，发生随机选取两个位置进行交换的小概率事件。
如旅行商问题中，让每个路径有1%的概率发生变异：
`eg: [1 2 3 4 5 6 7 8 9 0] -> [1 9 3 4 5 6 7 8 2 0]`
最后，将新生成的编码加入种群中。

### 迭代
可以设置最大迭代次数或目标适应度以结束迭代。
也可以设置连续n此迭代后最优路线不改变则结束迭代。
没有达到结束条件则对新得到的种群重新进行选择、交叉、变异。

## 代码示例：旅行商问题
